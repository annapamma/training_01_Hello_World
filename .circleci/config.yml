
version: 2.1

jobs:
 one:
    docker:
      - image: circleci/ruby:2.4.1
    steps:
      - run: mkdir -p ~/workspace
      - run: echo "Credentials!" > workspace/credentials
      - persist_to_workspace:
          root: workspace
          paths:
            - credentials
 two_a:
    docker:
      - image: circleci/ruby:2.4.1
    steps:
      - attach_workspace:
          at: workspace
      - run: cat workspace/credentials

workflows:
 demo-workspace:
   jobs:
     - one
     - two_a:
         requires:
           - one
