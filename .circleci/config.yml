version: 2.1

executors:
  linux:
    docker:
      - image: circleci/android:api-29-node

commands:
  run-test:
#    parameters:
#      api_level:
#        type: integer
#        default: 27
    steps:
      - run: echo << parameters.api_level >>
  run-all-tests-with-custom-api-level:
    parameters:
      api_level:
        type: integer
        default: 27
    steps:
      - run-test

jobs:
  run-tests:
    executor: linux
    steps:
      - run-test:
          api_level: 0

workflows:
  test:
    jobs:
      - run-tests
