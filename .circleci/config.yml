version: 2.1

parameters:
  is_cti_test:
    type: boolean
    default: false

jobs:
  build:
    docker:
      - image: "circleci/node:9.6.1"
    steps:
      - run: echo 'hello world'
  e2e_tests_for_cti:
    docker:
      - image: "circleci/node:9.6.1"
    steps:
      - run: echo 'triggered from api'

workflows:
  test:
    jobs:
      - build
  e2e_tests_for_cti:
    when: << pipeline.parameters.is_cti_test >>
    jobs:
       - e2e_tests_for_cti
